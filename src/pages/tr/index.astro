---
import Layout from "../../layouts/Layout.astro";
import { labels } from "../../i18n";
import { SITE } from "../../site";
const lang = "tr";
const t = labels[lang];
---

<Layout
  title={SITE.name}
  description={`${SITE.name} — Portfolio.`}
  lang={lang}
>
  <main class="relative max-w-5xl mx-auto px-6 py-24">
    <!-- Sticky Header -->
    <header
      class="sticky top-0 z-50 -mx-6 mb-10 border-b border-slate-200/70 bg-white/75 px-6 py-4 backdrop-blur
             dark:border-slate-900 dark:bg-slate-950/60"
    >
      <div class="flex items-center justify-between">
        <a
          href="/"
          class="font-semibold tracking-tight transition hover:text-black dark:hover:text-white"
        >
          {SITE.name}
        </a>

        <nav class="flex items-center gap-4 text-sm text-slate-700 dark:text-slate-300">
          <a class="transition hover:text-black dark:hover:text-white" href="#projects">{t.nav.projects}</a>
          <a class="transition hover:text-black dark:hover:text-white" href="#publications">{t.nav.publications}</a>

          <div class="ml-2 flex items-center gap-2 text-xs font-semibold text-slate-700 dark:text-slate-300">
            <a class="underline decoration-slate-300 hover:decoration-slate-600 dark:decoration-slate-700 dark:hover:decoration-slate-300" href="/">EN</a>
            <span class="opacity-40">/</span>
            <a class="underline decoration-slate-300 hover:decoration-slate-600 dark:decoration-slate-700 dark:hover:decoration-slate-300" href="/tr/">TR</a>
          </div>

          <button
            id="themeToggle"
            class="ml-2 rounded-xl border border-slate-200 bg-slate-100/70 px-3 py-2 text-xs font-semibold
                   hover:bg-slate-200/70 transition
                   dark:border-slate-800 dark:bg-slate-900/30 dark:hover:bg-slate-900/60"
            type="button"
            aria-label="Toggle theme"
            data-light-label={t.theme.light}
            data-dark-label={t.theme.dark}
          >
          </button>
        </nav>
      </div>
    </header>

    <!-- subtle background glow -->
    <div class="pointer-events-none absolute inset-0 -z-10 overflow-hidden" aria-hidden="true">
      <div
        class="absolute -top-24 left-1/2 h-72 w-[42rem] -translate-x-1/2 rounded-full blur-3xl opacity-30
               bg-gradient-to-r from-fuchsia-500 via-sky-500 to-emerald-400"
      ></div>
      <div
        class="absolute top-64 left-10 h-56 w-56 rounded-full blur-3xl opacity-20
               bg-gradient-to-br from-indigo-500 to-pink-500"
      ></div>
    </div>

    <!-- HERO -->
    <section class="reveal flex flex-col gap-10">
      <div class="space-y-5">
        <p
          class="inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white/70 px-4 py-2 text-sm text-slate-700
                 dark:border-slate-800 dark:bg-slate-900/40 dark:text-slate-300"
        >
          <span class="h-2 w-2 rounded-full bg-emerald-400"></span>
          {t.heroBadge}
        </p>

        <h1 class="text-5xl sm:text-6xl font-bold tracking-tight">
          {SITE.name}
        </h1>

        <p class="text-xl text-slate-700 dark:text-slate-300 max-w-2xl leading-relaxed">
          {t.heroLead}
        </p>

        <div class="flex flex-wrap gap-3 pt-2">
          <a
            href={SITE.linkedin}
            target="_blank"
            rel="noreferrer"
            class="group inline-flex items-center justify-center rounded-xl bg-slate-950 px-6 py-3 font-semibold text-white
                  transition hover:scale-[1.03] active:scale-[0.99]
                  dark:bg-white dark:text-black"
          >
            LinkedIn
            <span class="ml-2 transition group-hover:translate-x-0.5">→</span>
          </a>
          <a
            href={SITE.github}
            target="_blank"
            rel="noreferrer"
            class="group inline-flex items-center justify-center rounded-xl bg-slate-950 px-6 py-3 font-semibold text-white
                   transition hover:scale-[1.03] active:scale-[0.99]
                   dark:bg-white dark:text-black"
          >
            GitHub
            <span class="ml-2 transition group-hover:translate-x-0.5">→</span>
          </a>

          <a
            href="#projects"
            class="inline-flex items-center justify-center rounded-xl border border-slate-200 bg-white/70 px-6 py-3 font-semibold text-slate-950
                   transition hover:bg-slate-100/70
                   dark:border-slate-800 dark:bg-slate-900/30 dark:text-slate-100 dark:hover:bg-slate-900/60"
          >
            {t.nav.projects}
          </a>

          <a
            href="#publications"
            class="inline-flex items-center justify-center rounded-xl border border-slate-200 bg-white/70 px-6 py-3 font-semibold text-slate-950
                   transition hover:bg-slate-100/70
                   dark:border-slate-800 dark:bg-slate-900/30 dark:text-slate-100 dark:hover:bg-slate-900/60"
          >
            {t.nav.publications}
          </a>
        </div>
      </div>

      <!-- quick stats / cards -->
      <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
        <div
          class="rounded-2xl border border-slate-200 bg-white/70 p-5 shadow-sm
                 dark:border-slate-800 dark:bg-slate-900/30"
        >
          <p class="text-sm text-slate-600 dark:text-slate-400">{t.stats.focusLabel}</p>
          <p class="mt-2 font-semibold">{t.stats.focusValue}</p>
        </div>
        <div
          class="rounded-2xl border border-slate-200 bg-white/70 p-5 shadow-sm
                 dark:border-slate-800 dark:bg-slate-900/30"
        >
          <p class="text-sm text-slate-600 dark:text-slate-400">{t.stats.findLabel}</p>
          <p class="mt-2 font-semibold">{t.stats.findValue}</p>
        </div>
        <div
          class="rounded-2xl border border-slate-200 bg-white/70 p-5 shadow-sm
                 dark:border-slate-800 dark:bg-slate-900/30"
        >
          <p class="text-sm text-slate-600 dark:text-slate-400">{t.stats.curLabel}</p>
          <p class="mt-2 font-semibold">{t.stats.curValue}</p>
        </div>
      </div>
    </section>

    <!-- PROJECTS -->
    <section id="projects" class="reveal mt-20 scroll-mt-24">
      <div class="flex items-end justify-between gap-6 mb-8">
        <div>
          <h2 class="text-2xl font-bold">{t.projects.title}</h2>
          <p class="text-slate-600 dark:text-slate-400 mt-2">
            {t.projects.subtitle}
          </p>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
        <!-- card 2 -->
        <div
          class="group rounded-2xl border border-slate-200 bg-white/70 p-6 transition hover:-translate-y-1 hover:bg-white
                dark:border-slate-800 dark:bg-slate-900/30 dark:hover:bg-slate-900/50 dark:hover:border-slate-700"
        >
          <div class="flex items-start justify-between gap-4">
            <h3 class="text-lg font-semibold">{t.projectCards.p2.title}</h3>
            <span
              class="rounded-full border border-slate-200 px-3 py-1 text-xs text-slate-600
                     dark:border-slate-800 dark:text-slate-300"
            >2025</span>
          </div>

          <p class="mt-3 text-slate-600 dark:text-slate-400 leading-relaxed">
            {t.projectCards.p1.desc}
          </p>

          <div class="mt-5 flex flex-wrap gap-2">
            <span class="rounded-full border border-slate-200 bg-slate-100/70 px-3 py-1 text-xs text-slate-700
                         dark:border-slate-800 dark:bg-slate-900/40 dark:text-slate-300">{t.tags.python}</span>
            <span class="rounded-full border border-slate-200 bg-slate-100/70 px-3 py-1 text-xs text-slate-700
                         dark:border-slate-800 dark:bg-slate-900/40 dark:text-slate-300">{t.tags.cv}</span>
            <span class="rounded-full border border-slate-200 bg-slate-100/70 px-3 py-1 text-xs text-slate-700
                         dark:border-slate-800 dark:bg-slate-900/40 dark:text-slate-300">{t.tags.opencv}</span>
          </div>

          <a
            href="{SITE.github}
            target="_blank"
            rel="noreferrer"
            class="mt-5 inline-flex items-center text-sm font-semibold text-slate-700
                  hover:text-slate-950 transition
                  dark:text-slate-300 dark:hover:text-white"
          >
            {t.projects.openRepo}
            <span class="ml-1 transition group-hover:translate-x-0.5">→</span>
          </a>
        </div>

        <!-- card 1 -->
        <div
          class="group rounded-2xl border border-slate-200 bg-white/70 p-6 transition hover:-translate-y-1 hover:bg-white
                dark:border-slate-800 dark:bg-slate-900/30 dark:hover:bg-slate-900/50 dark:hover:border-slate-700"
        >
          <div class="flex items-start justify-between gap-4">
            <h3 class="text-lg font-semibold">{t.projectCards.p1.title}</h3>
            <span
              class="rounded-full border border-slate-200 px-3 py-1 text-xs text-slate-600
                     dark:border-slate-800 dark:text-slate-300"
            >2024</span>
          </div>
          <div class="mt-4 overflow-hidden rounded-xl border border-slate-200 dark:border-slate-800">
            <video
              class="project-video w-full aspect-video bg-black"
              src="/videos/project1.mp4"
              poster="/posters/project1.jpg"
              controls
              preload="metadata"
              muted
              playsinline
            ></video>
          </div>
          <p class="mt-3 text-slate-600 dark:text-slate-400 leading-relaxed">
            {t.projectCards.p2.desc}
          </p>

          <div class="mt-5 flex flex-wrap gap-2">
            <span class="rounded-full border border-slate-200 bg-slate-100/70 px-3 py-1 text-xs text-slate-700
                         dark:border-slate-800 dark:bg-slate-900/40 dark:text-slate-300">{t.tags.pytorch}</span>
            <span class="rounded-full border border-slate-200 bg-slate-100/70 px-3 py-1 text-xs text-slate-700
                         dark:border-slate-800 dark:bg-slate-900/40 dark:text-slate-300">{t.tags.ml}</span>
            <span class="rounded-full border border-slate-200 bg-slate-100/70 px-3 py-1 text-xs text-slate-700
                         dark:border-slate-800 dark:bg-slate-900/40 dark:text-slate-300">{t.tags.data}</span>
          </div>

          <a
            href={SITE.linkedin_post}
            target="_blank"
            rel="noreferrer"
            class="mt-5 inline-flex items-center text-sm font-semibold text-slate-700
                  hover:text-slate-950 transition
                  dark:text-slate-300 dark:hover:text-white"
          >
            {t.projects.seeDetails}
            <span class="ml-1 transition group-hover:translate-x-0.5">→</span>
          </a>
        </div>
      </div>
    </section>

    <!-- PUBLICATIONS -->
    <section id="publications" class="reveal mt-20 scroll-mt-24">
      <h2 class="text-2xl font-bold">{t.publications.title}</h2>
      <p class="text-slate-600 dark:text-slate-400 mt-2 max-w-2xl">
        {t.publications.subtitle}
      </p>

      <div
        class="mt-8 rounded-2xl border border-slate-200 bg-white/70 p-6
              dark:border-slate-800 dark:bg-slate-900/30"
      >
        <div class="flex flex-wrap items-start justify-between gap-4">
          <div class="space-y-1">
            <h3 class="text-lg font-semibold">
              {t.publications.paper1.title}
            </h3>
            <p class="text-sm text-slate-600 dark:text-slate-400">
              {t.publications.paper1.venue}
            </p>
            <p class="text-sm text-slate-600 dark:text-slate-400">
              {t.publications.paper1.authorsPrefix} <span class="font-semibold text-slate-900 dark:text-slate-200">{t.publications.paper1.authorsHighlight}</span> {t.publications.paper1.authorsSuffix}
            </p>  
          </div>

          <a
            href="https://www.sciencedirect.com/science/article/abs/pii/S1526612525013532?via%3Dihub"
            target="_blank"
            rel="noreferrer"
            class="inline-flex items-center justify-center rounded-xl bg-slate-950 px-5 py-2.5 font-semibold text-white transition hover:scale-[1.03] active:scale-[0.99]
                  dark:bg-white dark:text-black"
          >
            {t.publications.readSD}
          </a>
        </div>

        <p class="mt-4 text-slate-700 dark:text-slate-300 leading-relaxed">
          {t.publications.paper1.summary}
        </p>

        <div class="mt-4 flex flex-wrap items-center gap-3 text-sm">
          <span class="rounded-full border border-slate-200 bg-slate-100/70 px-3 py-1 text-slate-700
                      dark:border-slate-800 dark:bg-slate-900/40 dark:text-slate-300">
            {t.publications.doi} 10.1016/j.jmapro.2025.12.033
          </span>

        </div>
      </div>
    </section>

    <!-- FOOTER -->
    <footer class="mt-24 border-t border-slate-200/70 pt-10 text-sm text-slate-500 dark:border-slate-900">
      <p>
        {t.footer(new Date().getFullYear())}
      </p>
    </footer>

    <!-- Reveal script (runs once per section) -->
    <script>
      const els = Array.from(document.querySelectorAll(".reveal"));

      const revealNow = () => {
        const vh = window.innerHeight || document.documentElement.clientHeight;
        els.forEach((el) => {
          const r = el.getBoundingClientRect();
          if (r.top < vh - 80) el.classList.add("is-visible");
        });
      };

      const io = new IntersectionObserver(
        (entries) => {
          entries.forEach((e) => {
            if (e.isIntersecting) {
              e.target.classList.add("is-visible");
              io.unobserve(e.target);
            }
          });
        },
        { threshold: 0.15 }
      );

      els.forEach((el) => io.observe(el));
      revealNow();
      window.addEventListener("load", revealNow, { once: true });
    </script>

    <!-- Theme toggle (default dark, persisted) -->
    <script>
      (() => {
        const root = document.documentElement;
        const key = "theme";
        const btn = document.getElementById("themeToggle");

        const setTheme = (t) => {
          root.classList.toggle("dark", t === "dark");
          localStorage.setItem(key, t);
          if (btn) {
            const lightLabel = btn.dataset.lightLabel || "Light";
            const darkLabel = btn.dataset.darkLabel || "Dark";
            btn.textContent = root.classList.contains("dark") ? lightLabel : darkLabel;
          }
        };

        // Layout head script zaten doğru temayı uyguladı,
        // burada sadece buton label'ını güncelleyelim + click bağlayalım.
        const saved = localStorage.getItem(key);
        setTheme(saved === "light" ? "light" : "dark");

        if (btn) {
          btn.addEventListener("click", () => {
            setTheme(root.classList.contains("dark") ? "light" : "dark");
          });
        }
      })();
  </main>
</Layout>
